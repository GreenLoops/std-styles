<meta http-equiv="X-UA-Compatible" content="IE=Edge">

<script type="text/javascript" src="/lib/js/EventEmitter-3.1.4.js"></script>
<script type="text/javascript" src="/lib/js/jquery-1.7.1.js"></script>
<script type="text/javascript" src="/lib/js/jquery-f5-0.1.0.js"></script>
<script type="text/javascript" src="/lib/js/math-uuid-1.4.0.js"></script>
<script type="text/javascript" src="/lib/js/moment-1.2.0.js"></script>
<script type="text/javascript" src="/lib/js/underscore-1.3.1.js"></script>
<script type="text/javascript" src="/lib/js/jscore.js"></script>
<script type="text/javascript" src="/lib/js/jscore/TableBinding.js"></script>

<style>
    .foo
    {
        background:#ccc;
    }

    .bar
    {
        background:#a00;
        color:#ddd;
    }
</style>

<section style="margin:50px">
    <table id="tbl" border=1 style="width:100%">
        <thead>
            <tr>
                <td>Name</td>
                <td>Kind</td>
            </tr>
        </thead>
        <tbody>
            <tr data-row=fooId data-styler=foo>
                <td data-field=name data-styler=bar></td>
                <td>Hey:<span data-field=kind data-format=special></span></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan=2>&nbsp;</td>
            </tr>
        </tfoot>
    </table>
</section>

<script type="text/javascript">
    $(document).ready(function(){

        var tbl = document.getElementById("tbl");
        var tb = new jsc.TableBinding(tbl, {
            "foo": function(row){
                if(row.name === "foo1"){
                    return "foo";
                }
            },
            "bar": function(row){
                if(row.name === "foo"){
                    return "bar";
                }
            }
        });

        tb.bind([
            { fooId: "1", name: "foo1", kind: "kind1" },
            { fooId: "2", name: "foo2", kind: "kind2" },
            { fooId: "3", name: "foo3", kind: "kind3" }
        ]);
    });
</script>

